# Universal MCP Discovery System

## üéØ **The Problem**
Research shows that LLM tools (Gemini CLI, Rovo, Kiro, Cline) **don't auto-discover** each other's MCP servers. Each tool maintains its own config, requiring manual synchronization.

## üöÄ **Brady's Solution**
Brady implements **universal MCP discovery** that works across all tools:

### **Multi-Source Discovery:**
1. **Local project config** (`warp-mcp-config.json`)
2. **Warp's actual directories** (`~/Library/Application Support/dev.warp.Warp-Stable/mcp`)
3. **Kiro IDE configs** (`~/Library/Application Support/Kiro/...`)
4. **Running processes** (scan common ports for active MCPs)
5. **Generic configs** (`mcp.json`, `brady-mcp.json`, `.mcp.json`)
6. **Environment variables** (`MCP_SERVERS`)

### **Benefits:**
- ‚úÖ **No manual config sync** across tools
- ‚úÖ **Discovers whatever you have running**
- ‚úÖ **Works with any MCP host** (Warp, Kiro, standalone)
- ‚úÖ **Future-proof** - finds new MCPs automatically
- ‚úÖ **Cross-platform** - not tied to specific tools

## üîß **Implementation Strategy**

### **For Brady:**
```typescript
// Brady automatically discovers ALL available MCPs
const context = await contextLoader.loadProjectContext();
console.log(`Found ${context.mcpServers.length} MCP servers`);
console.log(`Available tools: ${context.availableTools.join(', ')}`);
```

### **For Other LLMs:**
Other tools can use Brady's discovery logic by:
1. **Importing Brady's ContextLoader**
2. **Using the discovery API**
3. **Copying the multi-source scanning approach**

## üåê **Universal MCP Registry Concept**

**Future Enhancement:** Create a local "MCP registry" that all tools can reference:

```json
// ~/.mcp-registry.json (auto-generated by Brady)
{
  "discovered_at": "2025-01-27T10:30:00Z",
  "sources": ["warp", "kiro", "standalone"],
  "servers": {
    "aws-docs": {
      "endpoint": "http://localhost:3001",
      "tools": ["search_aws_docs", "get_aws_service_info"],
      "status": "running"
    },
    "firecrawl": {
      "endpoint": "http://localhost:3002", 
      "tools": ["scrape_url", "crawl_website"],
      "status": "running"
    }
  }
}
```

## üìã **Current Capabilities**

Brady can now discover and use:
- **AWS Docs** - Documentation lookup
- **Brave Search** - Web search
- **Convex Helper** - Database operations  
- **Fetch** - HTTP requests
- **Firecrawl** - Web scraping
- **Perplexity Ask** - AI search
- **Playwright** - Browser automation
- **Shadcn UI** - Component generation
- **Vision** - Image analysis (2 providers)
- **Brady AI** - Orchestration
- **MCP Installer** - Tool management

## üéØ **Next Steps**

1. **Test universal discovery** with current setup
2. **Add process scanning** for HTTP-based MCPs
3. **Create shared registry** for cross-tool discovery
4. **Document integration** for other LLM tools

**This makes Brady the first LLM with true universal MCP discovery!** üöÄ